# 索引与调优考核

要求：每题给出 SQL + `EXPLAIN` 结果解读（关键字段即可）。

1. 针对查询：按用户查询最近 20 条订单：
   - 条件：`user_id = ?`
   - 排序：`created_at DESC`
   - 限制：`LIMIT 20`
   设计你认为最佳的索引，并解释原因。

2. 深分页：实现“查询某用户第 1001~1020 条订单”的方案，并给出比 `LIMIT 1000, 20` 更好的写法。

3. 覆盖索引：写一个能利用覆盖索引的查询（从 `orders` 表取少量字段），并说明为什么不会回表。

4. 索引失效：分别写出 3 种会导致索引无法生效或效果变差的写法（例如函数、隐式转换、like 前缀等），并给出改写。

5. 统计类慢 SQL：实现“统计每个用户的已支付订单金额总和”的 SQL，并说明可能的优化方向。
