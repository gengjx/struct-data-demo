# 04. 缓存三大问题：穿透/击穿/雪崩

## 1. 缓存穿透

- **现象**：大量请求查询“根本不存在”的数据，Redis 和 DB 都 miss
- **治理**：
  - 参数校验、黑名单
  - 缓存空值（短 TTL）
  - 布隆过滤器（大规模场景）

## 2. 缓存击穿

- **现象**：热点 key 过期瞬间，大量请求同时打到 DB
- **治理**：
  - 互斥重建（单飞）
  - 逻辑过期（异步重建）
  - 提前预热

## 3. 缓存雪崩

- **现象**：大量 key 同时过期或 Redis 故障，DB 被打爆
- **治理**：
  - TTL 随机化（避免同一时刻过期）
  - 多级缓存（本地缓存 + Redis）
  - 限流、熔断、降级兜底
  - Redis 高可用架构

## 4. Cache Aside（旁路缓存）推荐写法

- **读**：先查缓存，miss 再查 DB，成功后回填缓存
- **写**：先写 DB，再删除缓存（或更新缓存，需结合一致性策略）

本仓库对应：`CacheAsideTest`
