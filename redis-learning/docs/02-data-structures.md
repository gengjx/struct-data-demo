# 02. Redis 数据结构与使用场景

## 1. String

- **本质**：二进制安全字符串
- **典型场景**
  - 计数器：`INCR/DECR`
  - 分布式序列：`INCR` 做自增 ID
  - 简单缓存：`GET/SET`

注意点：
- **计数器建议加 TTL**（例如按天统计）

## 2. Hash

- **本质**：key->field->value
- **典型场景**：用户画像、配置项、对象属性存储

建议：
- field 数量可控，避免单个 Hash 过大导致 BigKey

## 3. List

- **典型场景**：简单队列（`LPUSH/RPOP`）

局限：
- 消费语义有限（重试、ack、消息可靠性等不完备）
- 阻塞消费要用 `BLPOP/BRPOP`（仍需理解其模型与风险）

## 4. Set

- **典型场景**：去重、集合运算（交并差）

## 5. ZSet

- **本质**：member + score（内部常用跳表实现有序）
- **典型场景**
  - 排行榜：`ZADD` + `ZREVRANGE WITHSCORES`
  - 延迟队列：score=时间戳

## 6. Key 设计建议（强烈建议形成规范）

- **命名**：`业务:模块:对象:id[:子维度]`
- **TTL**：缓存类 Key 必须有 TTL；统计类 Key 按周期设置
- **避免**：大 Key（单 value 很大或集合元素超多）、热 Key（访问过于集中）
